# Video Separater - Default Configuration
# Override per-run values via CLI args or Makefile variables

# Input
video: "movies/2026-01-31 15.44.11.mov"

# Output
output: output

# Frame extraction
interval: 1.5
threshold: 8

# OCR (DeepSeek)
ocr_model: deepseek-ocr
ocr_timeout: 60
ocr_options:
  temperature: 0.1
  num_predict: 4096
  repeat_penalty: 1.3
  repeat_last_n: -1

# VLM (figure description)
vlm_model: gemma3:12b
vlm_timeout: 120
vlm_options:
  temperature: 0.1
  num_predict: 2048
  repeat_penalty: 1.3
  repeat_last_n: -1

# Ollama server (shared by OCR and VLM)
ollama_url: http://localhost:11434

# TOC Classification (LLM-based)
use_llm_toc_classifier: true
toc_classifier_model: gpt-oss:20b

# Figure detection
min_confidence: 0.7

# Layout-aware OCR (007-layout-region-ocr)
coverage_threshold: 0.3    # フォールバック判定しきい値（30%未満でページ全体OCR）
min_region_area: 0.01      # 最小領域面積（ページ面積の1%未満を除外）
region_ocr_timeout: 120    # 領域別OCRのタイムアウト（秒）
warmup_timeout: 300        # モデルウォームアップのタイムアウト（秒）

# Spread splitting (見開き分割)
split_spreads: true        # 見開き画像を左右に分割
spread_aspect_ratio: 1.2   # 見開き判定の縦横比しきい値（幅/高さ >= 1.2 で見開き）
spread_left_trim: 0.03     # 左ページの左端をトリム（3% = 0.03）
spread_right_trim: 0.03    # 右ページの右端をトリム（3% = 0.03）
