▶目的

Runbookは、Webサービスの障害発生時に迅速かつ効果的に対応するための手順を記載しています。対象となるWebサービスがダウンした場合、原因の特定、復旧手順、および必要な情報を整理するために使用します。

このようなRunbookを作成することで、システム障害発生時に必要な対応を迅速に行うことができます。手順を明確に記載し、関係者が即座に対応できるようにすることが、サービスの信頼性向上につながります。

▶使用するシナリオ

Runbookで使用するシナリオの概要は、次のとおりです。

- Webサービスが完全に停止している
- サービスが一部の機能で応答していない
- サービスのレスポンスが遅延している

▶必要なツールとアクセス

Runbookの実行で使用する主な必要なツールは、次のとおりです。

- サーバーアクセス：sshまたはEC2 Management Console
- ログアクセス：CloudWatch LogsまたはDatadog
- モニタリングツール：Datadog、Prometheus、Grafana
- データベースアクセス：RDS ConsoleまたはpsqI
- メッセージングツール：SlackまたはTeams（障害報告と進捗通知）

▶対応手順

Runbookの対応手順は、次のとおりです。

- 初期確認
  - ○ サービス状態の確認
    - サービスが完全に停止しているか、一部機能が停止しているかを確認する
    - curlまたはブラウザを使って、エンドポイントのレスポンスを確認する
    - モニタリングツール（DatadogやGrafana）で、該当サービスの状態を確認する
  - ○ 障害の範囲を特定
    - サービス全体に影響が出ているのか、特定のAPIや機能に限定されているのかを確認する
  - ○ 障害報告
    - SlackまたはTeamsにチームメンバーへ障害発生を通知する障害の概要、影響範囲、最初の確認結果を記載する
- ログの確認と原因の特定
  - ○ ログの確認

5.6.2　RUNBOOK の例　— 4 / 6